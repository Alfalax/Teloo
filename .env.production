# TeLOO V3 - Production Environment
# This file contains shared environment variables for all services in production
# CRITICAL: All sensitive values MUST be set via Docker secrets or environment variables

# ============================================
# INFRASTRUCTURE CONFIGURATION
# ============================================

# Database Configuration
POSTGRES_DB=teloo_v3_production
POSTGRES_USER=teloo_prod_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD_PROD}  # REQUIRED: Set via Docker secrets
DATABASE_URL=postgres://teloo_prod_user:${POSTGRES_PASSWORD_PROD}@postgres:5432/teloo_v3_production

# Redis Configuration
REDIS_PASSWORD=${REDIS_PASSWORD_PROD}  # REQUIRED: Set via Docker secrets
REDIS_URL=redis://:${REDIS_PASSWORD_PROD}@redis:6379

# MinIO Configuration
MINIO_ACCESS_KEY=${MINIO_ACCESS_KEY_PROD}  # REQUIRED: Set via Docker secrets
MINIO_SECRET_KEY=${MINIO_SECRET_KEY_PROD}  # REQUIRED: Set via Docker secrets
MINIO_ENDPOINT=minio:9000
MINIO_BUCKET_NAME=teloo-files-production
MINIO_SECURE=true

# ============================================
# SECURITY CONFIGURATION
# ============================================

# JWT Configuration (Production - MUST use strong keys)
JWT_SECRET_KEY=${JWT_SECRET_KEY_PROD}  # REQUIRED: Set via Docker secrets
JWT_ALGORITHM=RS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Service-to-Service Authentication (Production)
AGENT_IA_API_KEY=${AGENT_IA_API_KEY_PROD}  # REQUIRED: Set via Docker secrets
ANALYTICS_API_KEY=${ANALYTICS_API_KEY_PROD}  # REQUIRED: Set via Docker secrets

# ============================================
# EXTERNAL SERVICES (Production - Use Production Keys)
# ============================================

# WhatsApp API Configuration
WHATSAPP_ACCESS_TOKEN=${WHATSAPP_ACCESS_TOKEN_PROD}  # REQUIRED: Set via Docker secrets
WHATSAPP_PHONE_NUMBER_ID=${WHATSAPP_PHONE_NUMBER_ID_PROD}  # REQUIRED
WHATSAPP_WEBHOOK_VERIFY_TOKEN=${WHATSAPP_WEBHOOK_VERIFY_TOKEN_PROD}  # REQUIRED: Set via Docker secrets
WHATSAPP_WEBHOOK_SECRET=${WHATSAPP_WEBHOOK_SECRET_PROD}  # REQUIRED: Set via Docker secrets

# Telegram Configuration
TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN_PROD}  # REQUIRED: Set via Docker secrets
TELEGRAM_ENABLED=true

# LLM API Configuration (Production)
OPENAI_API_KEY=${OPENAI_API_KEY_PROD}  # REQUIRED: Set via Docker secrets
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY_PROD}  # REQUIRED: Set via Docker secrets
GEMINI_API_KEY=${GEMINI_API_KEY_PROD}  # REQUIRED: Set via Docker secrets
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY_PROD}  # REQUIRED: Set via Docker secrets

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARNING
LOG_FORMAT=json

# Timezone
TIMEZONE=America/Bogota
TZ=America/Bogota
PGTZ=UTC

# CORS Configuration
BACKEND_CORS_ORIGINS=["https://admin.teloo.com","https://advisor.teloo.com"]

# ============================================
# DOCKER REGISTRY (for CI/CD)
# ============================================
REGISTRY=ghcr.io
IMAGE_PREFIX=teloo-v3
IMAGE_VERSION=v1.0.0

# ============================================
# FRONTEND CONFIGURATION
# ============================================
VITE_API_URL=https://api.teloo.com
VITE_REALTIME_URL=https://realtime.teloo.com
VITE_ENVIRONMENT=production
NODE_ENV=production

# ============================================
# MONITORING & ALERTS (Production)
# ============================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=${SMTP_USERNAME_PROD}  # REQUIRED
SMTP_PASSWORD=${SMTP_PASSWORD_PROD}  # REQUIRED: Set via Docker secrets
EMAIL_FROM=alerts@teloo.com
ALERT_EMAIL_TO=ops@teloo.com,admin@teloo.com

SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL_PROD}  # REQUIRED: Set via Docker secrets
SLACK_CHANNEL=#production-alerts

# ============================================
# PERFORMANCE & SCALING
# ============================================
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
REDIS_POOL_SIZE=10
MAX_CONCURRENT_CALCULATIONS=5
CALCULATION_TIMEOUT_SECONDS=30
