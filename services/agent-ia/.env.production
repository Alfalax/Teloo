# Agent IA - Production Environment

# Core API Integration
CORE_API_URL=http://core-api:8000
CORE_API_TIMEOUT=30

# Service Authentication
SERVICE_NAME=agent-ia
SERVICE_API_KEY=${AGENT_IA_API_KEY}

# Redis Configuration
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379
REDIS_POOL_SIZE=20

# WhatsApp Configuration
WHATSAPP_ACCESS_TOKEN=${WHATSAPP_ACCESS_TOKEN}
WHATSAPP_PHONE_NUMBER_ID=${WHATSAPP_PHONE_NUMBER_ID}
WHATSAPP_VERIFY_TOKEN=${WHATSAPP_VERIFY_TOKEN}
WHATSAPP_WEBHOOK_SECRET=${WHATSAPP_WEBHOOK_SECRET}
WHATSAPP_API_VERSION=v18.0

# Telegram Configuration
TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
TELEGRAM_ENABLED=true

# ============================================
# AUDIO PROCESSING CONFIGURATION
# ============================================
AUDIO_PRIMARY_STRATEGY=whisper
AUDIO_FALLBACK_STRATEGY=openai
AUDIO_FALLBACK_ENABLED=true
AUDIO_FALLBACK_CONFIDENCE_THRESHOLD=0.7
AUDIO_MIN_TRANSCRIPTION_LENGTH=10
AUDIO_TRANSCRIPTION_CACHE_ENABLED=true
AUDIO_TRANSCRIPTION_CACHE_TTL=86400

# ============================================
# LLM Providers Configuration
# ============================================
# OpenAI
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.3

# Anthropic
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
ANTHROPIC_MODEL=claude-3-haiku-20240307
ANTHROPIC_MAX_TOKENS=1000

# Gemini
GEMINI_API_KEY=${GEMINI_API_KEY}
GEMINI_MODEL=gemini-1.5-pro
GEMINI_MAX_TOKENS=1000

# Deepseek
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_MAX_TOKENS=1000

# Local LLM (Disabled in production)
LOCAL_LLM_ENABLED=false

# NLP Configuration
NLP_FALLBACK_STRATEGY=regex,deepseek,gemini,openai,anthropic,basic
NLP_TIMEOUT_SECONDS=10
NLP_MAX_RETRIES=3

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_SECONDS=300
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=Exception

# Conversation Management
CONVERSATION_TTL_HOURS=1
MAX_CONVERSATION_TURNS=10

# Application Configuration
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARNING
API_V1_STR=/v1

# Rate Limiting
RATE_LIMIT_PER_MINUTE=200
RATE_LIMIT_PER_IP=100

# Webhook Security
WEBHOOK_SIGNATURE_VERIFICATION=true

# Monitoring
SENTRY_DSN=${SENTRY_DSN}
ENABLE_METRICS=true
ENABLE_TRACING=true
