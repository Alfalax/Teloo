# TeLOO V3 - Staging Environment
# This file contains shared environment variables for all services in staging

# ============================================
# INFRASTRUCTURE CONFIGURATION
# ============================================

# Database Configuration
POSTGRES_DB=teloo_v3_staging
POSTGRES_USER=teloo_staging_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD_STAGING}  # Set via Docker secrets
DATABASE_URL=postgres://teloo_staging_user:${POSTGRES_PASSWORD_STAGING}@postgres:5432/teloo_v3_staging

# Redis Configuration
REDIS_PASSWORD=${REDIS_PASSWORD_STAGING}  # Set via Docker secrets
REDIS_URL=redis://:${REDIS_PASSWORD_STAGING}@redis:6379

# MinIO Configuration
MINIO_ACCESS_KEY=${MINIO_ACCESS_KEY_STAGING}  # Set via Docker secrets
MINIO_SECRET_KEY=${MINIO_SECRET_KEY_STAGING}  # Set via Docker secrets
MINIO_ENDPOINT=minio:9000
MINIO_BUCKET_NAME=teloo-files-staging
MINIO_SECURE=true

# ============================================
# SECURITY CONFIGURATION
# ============================================

# JWT Configuration (Staging - Use Strong Keys)
JWT_SECRET_KEY=${JWT_SECRET_KEY_STAGING}  # Set via Docker secrets
JWT_ALGORITHM=RS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Service-to-Service Authentication (Staging)
AGENT_IA_API_KEY=${AGENT_IA_API_KEY_STAGING}  # Set via Docker secrets
ANALYTICS_API_KEY=${ANALYTICS_API_KEY_STAGING}  # Set via Docker secrets

# ============================================
# EXTERNAL SERVICES (Staging - Use Staging Keys)
# ============================================

# WhatsApp API Configuration
WHATSAPP_ACCESS_TOKEN=${WHATSAPP_ACCESS_TOKEN_STAGING}  # Set via Docker secrets
WHATSAPP_PHONE_NUMBER_ID=${WHATSAPP_PHONE_NUMBER_ID_STAGING}
WHATSAPP_WEBHOOK_VERIFY_TOKEN=${WHATSAPP_WEBHOOK_VERIFY_TOKEN_STAGING}  # Set via Docker secrets
WHATSAPP_WEBHOOK_SECRET=${WHATSAPP_WEBHOOK_SECRET_STAGING}  # Set via Docker secrets

# Telegram Configuration
TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN_STAGING}  # Set via Docker secrets
TELEGRAM_ENABLED=true

# LLM API Configuration (Staging)
OPENAI_API_KEY=${OPENAI_API_KEY_STAGING}  # Set via Docker secrets
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY_STAGING}  # Set via Docker secrets
GEMINI_API_KEY=${GEMINI_API_KEY_STAGING}  # Set via Docker secrets
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY_STAGING}  # Set via Docker secrets

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Environment
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=json

# Timezone
TIMEZONE=America/Bogota
TZ=America/Bogota
PGTZ=UTC

# CORS Configuration
BACKEND_CORS_ORIGINS=["https://staging-admin.teloo.com","https://staging-advisor.teloo.com"]

# ============================================
# DOCKER REGISTRY (for CI/CD)
# ============================================
REGISTRY=ghcr.io
IMAGE_PREFIX=teloo-v3
IMAGE_VERSION=staging

# ============================================
# FRONTEND CONFIGURATION
# ============================================
VITE_API_URL=https://staging-api.teloo.com
VITE_REALTIME_URL=https://staging-realtime.teloo.com
VITE_ENVIRONMENT=staging
NODE_ENV=production

# ============================================
# MONITORING & ALERTS (Staging)
# ============================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=${SMTP_USERNAME_STAGING}
SMTP_PASSWORD=${SMTP_PASSWORD_STAGING}  # Set via Docker secrets
EMAIL_FROM=alerts-staging@teloo.com
ALERT_EMAIL_TO=dev-team@teloo.com

SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL_STAGING}  # Set via Docker secrets
SLACK_CHANNEL=#staging-alerts
